<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    // const socket = new WebSocket('ws://localhost:5124/api/ws');
    //     socket.OPEN = () => {
    //         debugger
    //         console.log("Connected to the server via Websocket");
    //     };
    //     socket.onmessage = (e) => {
    //         debugger
    //         const data = JSON.parse(e.data);
    //         const x = data.x ?? 0;
    //         const y = data.y ?? 0;
    //         console.log(`x = ${x}, y = ${y}`);
    //         document.getElementById("x-value").innerText = `X : ${x}`;
    //         document.getElementById("y-value").innerText = `Y : ${y}`;

    //     }

    const page = 1;
    const limit = 10;
    const socket = new WebSocket(`wss://localhost:7295/api/quote/ws?page=${page}&limit=${limit}`);
    socket.onopen = () => {
        debugger
        console.log("Connect to server via socket");
    }
    socket.onmessage = (event) => {
        const quotes = JSON.parse(event.data);
        document.write(JSON.stringify(quotes));
        document.write("========================");
        debugger 
    }
    socket.onclose = () => {
        console.log("Connection closed");
    }

</script>
<body>
    <h1>Test Websocket, show x, y realtime</h1>
    <p id="x-value"></p>
    <p id="y-value"></p>

</body>
</html>